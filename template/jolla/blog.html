{% extends "../base.html" %}

{% block title %}
  {{ _("Jolla Unofficical Chinese Blog") }}
{% end %}

{% block neck %}
<style>
  body {
    background-image: url("https://dn-jolla.qbox.me/blog_bg_top.jpg"),
                      url("https://dn-jolla.qbox.me/blog_bg_base.jpg");
    background-repeat: no-repeat, repeat;
    background-size: 100% auto, auto auto;
    background-position: right top;
    background-color: #5BA2A1;
  }

  header img {
    width: 100%;
    height: auto;
    max-width: 400px;
  }

  #blog img {
    width: 100%;
    height: auto;
  }

  img.cover-img {
    width: 100%;
    height: auto;
  }

  .white {
    background-color: #fff !important;
  }

  #bread-crumbs {
    color: #fff;
  }

  #bread-crumbs a:link {
    color: #fff;
  }
  #bread-crumbs a:visited {
    color: #fff;
  }
  #bread-crumbs a:hover {
    color: #fff;
    text-decoration:underline;
  }

</style>
{% end %}

{% block nav %}{% end %}

{% block body %}

<header>
  <div class="am-margin am-text-center">
    <img alt="{{ _("Jolla Unofficical Chinese Blog") }}" src="/static/img/blog_header.png">
  </div>
</header>

<div class="am-u-sm-centered am-g-fixed am-g-collapse" id="blog">
  <div class="am-g" id="bread-crumbs">
    <div class="am-u-sm-12" style="text-align: left">
      <span class="am-icon-angle-right"><a href="/">{{ _('Home')}}</a></span> &nbsp;
      <span class="am-icon-caret-right">{{ _('Jolla Blog')}}</span>
    </div>
  </div>
  <!-- first article -->
  {% try %}
    {% set each = next(articles) %}
  {% except StopIteration %}
    <div class="am-alert" data-am-alert>
      <button type="button" class="am-close">&times;</button>
      <p>{{ _("No article here") }}</p>
    </div>
  {% else %}
    <!-- horizontal blog box -->
    <div class="am-g">
      <div class="am-margin-horizontal-xs am-margin-vertical-sm">
        <div class="white am-u-sm-12 am-u-md-{{ 6 if each['img'] else 12 }}">
          <article class="am-article am-margin-horizontal-lg am-margin-top-lg">
            <div class="am-article-hd">
              <a href="{{ each['url'] }}"><h2 class="am-article-title am-text-xl">{{ each['title'] }}</h2></a>
            </div>
            <div class="am-article-bd">
              <p>{{ each['preview'] }}...</p>
            </div>
          </article>
          <div class="am-cf am-margin-horizontal-lg am-margin-bottom-sm">
            <a class="am-btn am-btn-success am-fr" href="{{ each['url'] }}">{{ _("Continue reading") }}</a>
          </div>
        </div>
        {% if each['img'] %}
        <div class="am-u-sm-12 am-u-md-6">
          <a href="{{ each['url'] }}"><img class="cover-img" src="{{ each['img'] }}"></a>
        </div>
        {% end %}
      </div>
    </div>
  {% end %}
  <!-- first article | end -->

  {% for idx, each in enumerate(articles) %}

  {% if idx % 2 == 0 %}
  <div class="am-g">
  {% end %}
    <div class="am-u-sm-12 am-u-md-6">
      <div class="am-margin-horizontal-xs white am-margin-vertical-sm">
        {% if each['img'] %}
        <a href="{{ each['url'] }}"><img class="cover-img" src="{{ each['img'] }}"></a>
        {% end %}
        <div class="title-box">
          <article class="am-article  am-margin-horizontal-lg am-margin-top-lg">
            <div class="am-article-hd">
              <a href="{{ each['url'] }}"><h2 class="am-article-title">{{ each['title'] }}</h2></a>
            </div>
            <div class="am-article-bd">
              <p>{{ each['preview'] }}...</p>
            </div>
          </article>
          <div class="am-cf">
            <a class="am-btn am-btn-success am-fr am-margin-bottom am-margin-right-lg" href="{{ each['url'] }}">{{ _("Continue reading") }}</a>
          </div>
        </div>
      </div>
    </div>

  {% if idx % 2 != 0 %}
  </div>
  {% end %}

  {% end %}




</div>

{% end %}
