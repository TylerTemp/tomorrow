/*! jQuery TextRange v2.0.0 | (c) 2012, 2013 Daniel Imhoff <dwieeb@gmail.com> | MIT/X11 License */
!function(a){var b,c={get:function(a){return d[b].get.apply(this,[a])},set:function(a,c){var e=parseInt(a),f=parseInt(c),g;return"undefined"==typeof a?e=0:0>a&&(e=this.val().length+e),g="undefined"==typeof c?this.val().length:c>=0?e+f:this.val().length+f,d[b].set.apply(this,[e,g]),this},setcursor:function(a){return this.textrange("set",a,0)},replace:function(a){return d[b].replace.apply(this,[a]),this},insert:function(a){return this.textrange("replace",a)}},d={xul:{get:function(a){var b={position:this[0].selectionStart,start:this[0].selectionStart,end:this[0].selectionEnd,length:this[0].selectionEnd-this[0].selectionStart,text:this.val().substring(this[0].selectionStart,this[0].selectionEnd)};return"undefined"==typeof a?b:b[a]},set:function(a,b){this[0].selectionStart=a,this[0].selectionEnd=b},replace:function(a){var b=this[0].selectionStart;this.val(this.val().substring(0,this[0].selectionStart)+a+this.val().substring(this[0].selectionEnd,this.val().length)),this[0].selectionStart=b,this[0].selectionEnd=b+a.length}},msie:{get:function(a){var b=document.selection.createRange();if("undefined"==typeof b)return{position:0,start:0,end:this[0].val().length,length:this[0].val().length,text:this.val()};var c=this[0].createTextRange(),d=c.duplicate();c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c);var e={position:d.text.length,start:d.text.length,end:d.text.length+b.text.length,length:b.text.length,text:b.text};return"undefined"==typeof a?e:e[a]},set:function(a,b){var c=this[0].createTextRange();return"undefined"==typeof c?this:("undefined"!=typeof a&&(c.moveStart("character",a),c.collapse()),"undefined"!=typeof b&&c.moveEnd("character",b-a),c.select(),void 0)},replace:function(a){document.selection.createRange().text=a}}};a.fn.textrange=function(d){return"undefined"==typeof b&&(b="selectionStart"in this[0]?"xul":document.selection?"msie":"unknown"),"unknown"===b?this:(document.activeElement!==this[0]&&this[0].focus(),"undefined"==typeof d||"string"!=typeof d?c.get.apply(this):"function"==typeof c[d]?c[d].apply(this,Array.prototype.slice.call(arguments,1)):(a.error("Method "+d+" does not exist in jQuery.textrange"),void 0))}}(jQuery);